BROKER SCHEMA COMMON
/**
*
*
* this is our card on THIER  terminal 
* DEBIT CUSTOMER ACCOUNT 
* CREDIT ACQUIRER POS/ATM  ZWL/USD ACCOUNT
* for deposits CREDIT CUSTOMER DEBIT TERMINAL 
* FOR funds transfer CREDIT 103 DEBIT 102
*
*
*/


CREATE PROCEDURE processUSonTHEM(IN ISOMG REFERENCE, INOUT DEBITACC CHARACTER,INOUT CREDITACC CHARACTER, OUT CREDITCODE CHARACTER, OUT DEBITCODE CHARACTER) BEGIN

		SET DEBITCODE = THE(SELECT ITEM T.ADVICEDEBITCODE FROM Database.ZBDB_ESB.DB2INST1.TRANSACTIONCODE AS T WHERE T.PROCESSINGCODE = Environment.ISO.PROCESSINGCODE);
		SET CREDITCODE = THE(SELECT ITEM T.ADVICECREDITCODE FROM Database.ZBDB_ESB.DB2INST1.TRANSACTIONCODE AS T WHERE T.PROCESSINGCODE = Environment.ISO.PROCESSINGCODE);		

END;	