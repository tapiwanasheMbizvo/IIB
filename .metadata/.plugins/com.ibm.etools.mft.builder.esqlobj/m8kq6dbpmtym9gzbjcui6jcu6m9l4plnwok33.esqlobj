CREATE FUNCTION getTerminalSource(IN TERMINALID CHARACTER ) RETURNS CHARACTER BEGIN
	

 IF TERMINAL_CACHE.TERMINAL.TERMINALID IS NULL THEN
 -- load the cache
	CALL loadCACHE();	
 END IF;
 	
	RETURN THE(SELECT ITEM T.SOURCE FROM TERMINAL_CACHE.TERMINAL[] AS T
 	 WHERE T.TERMINALID = TERMINALID);
END;