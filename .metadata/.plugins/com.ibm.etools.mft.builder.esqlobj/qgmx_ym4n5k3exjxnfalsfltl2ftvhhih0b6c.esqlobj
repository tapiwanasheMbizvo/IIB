CREATE FUNCTION getTerminalSource(IN TERMINALID CHARACTER ) RETURNS CHARACTER BEGIN
	

 IF TERMINAL_CACHE.TERMINAL.TERMINALID IS NULL THEN
 -- load the cache

 
 SET TERMINAL_CACHE.TERMINAL[] = SELECT T.ACCOUNTNO, T.TERMINALID, T.USDACCOUNTNO, T.SOURCE  FROM
 Database.ZBDB_ESB.DB2INST1.TERMINAL AS T;
 END IF;	
	RETURN THE(SELECT ITEM T.SOURCE FROM TERMINAL_CACHE.TERMINAL[] AS T
 	 WHERE T.TERMINALID = TERMINALID);
END;